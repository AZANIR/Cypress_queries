// ============================================================
// ТЕМА: Аліаси - базове створення та використання
// ОПИС: Демонстрація створення та використання аліасів
//       для покращення читабельності та підтримки тестів
// ============================================================

describe('Аліаси - базове використання', () => {
  // Підготовка: відкриваємо сторінку перед кожним тестом
  beforeEach(() => {
    cy.visit('/')
  })

  // Тест 1: Створення та використання простого аліасу
  // Аліаси дозволяють давати імена елементам для подальшого використання
  it('має створити та використати простий аліас', () => {
    // cy.get('.new-todo') - знаходимо поле вводу
    // .as('todoInput') - створюємо аліас з ім'ям 'todoInput'
    // as() - метод для створення аліасу
    // Ім'я аліасу починається з @ при використанні
    cy.get('.new-todo').as('todoInput')
    
    // cy.get('@todoInput') - використовуємо аліас для посилання на елемент
    // @todoInput - синтаксис для використання аліасу
    // Це еквівалентно cy.get('.new-todo'), але більш читабельно
    cy.get('@todoInput')
      .should('be.visible')
      .type('Тестова задача')
  })

  // Тест 2: Використання аліасу в різних місцях тесту
  // Аліас можна використовувати багато разів в одному тесті
  it('має використовувати аліас в різних місцях тесту', () => {
    // Створюємо аліас для поля вводу
    cy.get('.new-todo').as('inputField')
    
    // Використовуємо аліас для введення тексту
    cy.get('@inputField')
      .type('Перша задача')
    
    // Використовуємо той самий аліас для перевірки значення
    cy.get('@inputField')
      .should('have.value', 'Перша задача')
    
    // Використовуємо аліас для очищення поля
    cy.get('@inputField')
      .clear()
    
    // Використовуємо аліас для нового введення
    cy.get('@inputField')
      .type('Друга задача')
  })

  // Тест 3: Створення кількох аліасів
  // Можна створити кілька аліасів для різних елементів
  it('має створити кілька аліасів для різних елементів', () => {
    // Створюємо аліас для поля вводу
    cy.get('.new-todo').as('todoInput')
    
    // Створюємо аліас для списку задач
    cy.get('.todo-list').as('todoList')
    
    // Використовуємо перший аліас
    cy.get('@todoInput')
      .type('Задача{enter}')
    
    // Використовуємо другий аліас
    cy.get('@todoList')
      .find('li')
      .should('have.length', 1)
  })

  // Тест 4: Аліаси для перевірок
  // Аліаси можна використовувати в командах should() для перевірок
  it('має використовувати аліаси в перевірках', () => {
    // Створюємо аліас
    cy.get('.new-todo').as('input')
    
    // Використовуємо аліас для перевірки видимості
    cy.get('@input')
      .should('be.visible')
    
    // Використовуємо аліас для перевірки наявності
    cy.get('@input')
      .should('exist')
    
    // Використовуємо аліас для перевірки класу
    cy.get('@input')
      .should('have.class', 'new-todo')
  })

  // Тест 5: Аліаси для взаємодії
  // Аліаси спрощують взаємодію з елементами
  it('має використовувати аліаси для взаємодії', () => {
    // Створюємо аліас для поля вводу
    cy.get('.new-todo').as('todoInput')
    
    // Взаємодіємо через аліас
    cy.get('@todoInput')
      .type('Задача через аліас{enter}')
    
    // Перевіряємо результат через інший елемент
    cy.get('.todo-list li')
      .should('contain', 'Задача через аліас')
  })
})

// ============================================================
// ВАЖЛИВІ ЗАУВАЖЕННЯ про аліаси:
// ============================================================
// 1. Аліаси створюються через метод .as('name')
// 2. Аліаси використовуються через cy.get('@name')
// 3. Аліаси можна використовувати багато разів в одному тесті
// 4. Аліаси покращують читабельність та підтримку коду
// 5. Аліаси роблять тести менш залежними від селекторів
// 6. Аліаси дійсні тільки в межах одного тесту (it блоку)
// ============================================================
