Робота з множинними елементами, ітерації
Робота з множинними елементами на сторінці в Cypress може включати в себе ітерацію по цим елементам та взаємодію з кожним елементом окремо. Для цього можна використовувати методи Cypress, такі як each(), its(), та інші. Ось детальний опис роботи з множинними елементами:

1. Використання each():
Метод each() використовується для ітерації по всіх елементах у виборі та виконання деякої дії для кожного елемента.



cy.get('.list-item').each(($item, index, $list) => {
  // $item - поточний елемент
  // index - індекс поточного елемента
  // $list - список всіх елементів
  cy.wrap($item).click(); // Наприклад, натискання на кожен елемент
});

2. Використання its():
Метод its() використовується для витягування значень властивостей з об'єктів із вибору та подальшої роботи з цими значеннями.



cy.get('.list-item').its('text').should('include', 'ExpectedText');

3. Використання invoke():
Метод invoke() використовується для виклику методів на кожному елементі у виборі.



cy.get('.list-item').invoke('text').should('include', 'ExpectedText');

4. Використання filter():
Метод filter() використовується для вибору підмножини елементів, які задовольняють певний критерій.



cy.get('.list-item').filter(':contains("FilterText")').should('have.length', 2);

5. Використання find():
Метод find() використовується для пошуку вкладених елементів всередині кожного елемента у виборі.



cy.get('.parent-element').find('.child-element').should('exist');

6. Використання інших методів:
Ви також можете комбінувати різні методи для досягнення конкретного функціоналу. Наприклад, використовуйте each() для ітерації та подальшої взаємодії з кожним елементом.



cy.get('.list-item').each(($item) => {
  cy.wrap($item).click(); // Натискання на кожен елемент
  cy.wrap($item).should('be.visible'); // Перевірка видимості кожного елемента
});

Ці методи дозволяють ефективно взаємодіяти з множиною елементів на сторінці та виконувати різні дії для кожного з них. Зручність використання того чи іншого методу залежить від конкретних потреб та умов вашого тесту.

first - обирає перший елемент у наборі DOM елементів.
Ситнаксис:


.first()
.first(опції)

Коректне використання:


cy.get('nav a').first() // поверне перше посилання з множини

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

2.last - обирає останній елемент у наборі DOM елементів.

Ситнаксис:


.last()
.last(опції)

Коректне використання:


cy.get('nav a').last() // поверне останнє посилання з множини

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

3.nextAll - обирає всіх наступних “братніх” елементів у наборі.

Ситнаксис:


.nextAll()
.nextAll(селектор)
.nextAll(опції)
.nextAll(селектор, опції)

Коректне використання:


cy.get('.active').nextAll() // Поверне всі братні елементи після `.active`

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

4.nextUntil - обирає всі наступні “братні” елементи у наборі відповідних елементів DOM після наданого елемента, але не включаючи його.

Ситнаксис:


.nextUntil(селектор)
.nextUntil(селектор, фільтр)
.nextUntil(селектор, фільтр, опції)
.nextUntil(елемент)
.nextUntil(елемент, фільтр)
.nextUntil(елемент, фільтр, опції)

Коректне використання:


cy.get('div').nextUntil('.warning') // поверне "братні" елементи після 'div' до '.warning'

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

5.parents - обирає всі батьківські елементи знайденого раніше.

Ситнаксис:


.parents()
.parents(селектор)
.parents(опції)
.parents(селектор, опції)

Коректне використання:


Детальну інформацію про варіанти застосування та опціі можна знайти тут.

6.prevAll - обирає всі попередні “братні” елементи у наборі.

Ситнаксис:


.prevAll()
.prevAll(селектор)
.prevAll(опції)
.prevAll(селектор, опції)

Коректне використання:


cy.get('.active').prevAll() // Поверне всі братні елементи перед `.active`

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

7.prevUntil - обирає всі наступні “братні” елементи у наборі відповідних елементів DOM перед наданим елементом, але не включаючи його.

Ситнаксис:


.prevUntil(селектор)
.prevUntil(селектор, фільтр)
.prevUntil(селектор, фільтр, опції)
.prevUntil(елемент)
.prevUntil(елемент, фільтр)
.prevUntil(елемент, фільтр, опції)

Коректне використання:


cy.get('p').prevUntil('.intro') // поверне "братні" елементи перед'div' до '.intro'

Детальну інформацію про варіанти застосування та опціі можна знайти тут.

Приклад роботи з множинними елементами - отримання тексту з масиву кнопок та порівняння масивів:


cy.get('nb-card[size="small"]').first().find('button.status-danger').then(($elements)=>{
          const buttonsText = []
            cy.wrap($elements).each(($el)=>{
                const text = $el.text()
                buttonsText.push(text)
            }).then(()=>{
              cy.log(`Buttons text : ${JSON.stringify(buttonsText)}`)
              expect(buttonsText).to.deep.equal(['Left','Top', 'Bottom', 'Right'])
            })
      })