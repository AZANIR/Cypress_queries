Best Practices для роботи з елементами у Cypress
Робота з елементами в Cypress може бути більш ефективною та підтримуваною, якщо дотримуватися кращих практик. Ось деякі з них:

1. Використовуйте cy.get() з атрибутами, класами або ідентифікаторами:
Замість використання складних селекторів, які можуть змінюватися, краще використовувати атрибути, класи або ідентифікатори для вибору елементів:


Робота з елементами в Cypress може бути більш ефективною та підтримуваною, якщо дотримуватися кращих практик. Ось деякі з них:

1. Використовуйте `cy.get()` з атрибутами, класами або ідентифікаторами:

Замість використання складних селекторів, які можуть змінюватися, краще використовувати атрибути, класи або ідентифікатори для вибору елементів:

2. Використовуйте фіксовані дані атрибутів для селекторів:
Додайте атрибути data-cy або подібні для елементів, які використовуються тільки в тестах:



<button data-cy="submitButton">Відправити</button>

3. Використовуйте cy.contains() замість конкретного селектора:
cy.contains() дозволяє вибрати елемент на основі текстового вмісту, що робить тест менш залежним від конкретної структури DOM:



// Погано
cy.get('.menu li:nth-child(3)')

// Краще
cy.contains('.menu li', 'Опція 3')

4. Створюйте аліаси для елементів:
Використання аліасів полегшує читання і підтримку тестів:



cy.get('.username-input').as('usernameInput');
cy.get('@usernameInput').type('user123');

5. Розділяйте тестові випадки:
Розділяйте тести на окремі випадки для кращої читабельності і підтримки:



describe('Логін', () => {
  it('повинен вивести помилку при невірних облікових даних', () => {
    // ваш код тесту
  });

  it('повинен вхідити користувача з правильними обліковими даними', () => {
    // ваш код тесту
  });
});

6. Використовуйте команду .find() для вкладених елементів:
Якщо вам потрібно звертатися до вкладених елементів всередині іншого елемента, використовуйте .find():



cy.get('.parent-element').find('.child-element').should('exist');

7. Використовуйте атрибути елементів, які не змінюються:
Віддавайте перевагу використанню атрибутів, які менше схильні до змін, наприклад, data-testid або data-cy.

8. Використовуйте cy.get() зі змінними:
Використовуйте змінні для зберігання селекторів та використовуйте їх у командах cy.get():



const submitButton = '.submit-button';

cy.get(submitButton).click();
cy.get(submitButton).should('be.disabled');

9. Використовуйте .first() та .last() для роботи з першим і останнім елементами:
Якщо вам потрібно взаємодіяти з першим або останнім елементом, використовуйте .first() або .last():



cy.get('.list-item').first().should('have.class', 'first-item');
cy.get('.list-item').last().click();

10. Уникайте використання force без необхідності:
Метод .force() застосовується для примусового виконання дій, але використовуйте його обережно, оскільки це може призвести до некоректного введення.

11. Використовуйте .within() для взаємодії з групою елементів:
Метод .within() дозволяє обмежити дії лише в середині обраного елемента:



cy.get('.form-container').within(() => {
  cy.get('.username-input').type('user123');
  cy.get('.password-input').type('password123');
  cy.get('.submit-button').click();
});

Ці практики допомагають утримувати ваш код тестів зрозумілим, підтримуваним та менш залежним від внутрішньої реалізації сторінки.