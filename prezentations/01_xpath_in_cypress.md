Підтримка CSS та XPATH у Cypress
Фреймворк Cypress має розширений набір можливостей для вибору елементів за допомогою CSS селекторів. Ці можливості дозволяють зручно та ефективно здійснювати вибір елементів на веб-сторінці для подальших дій (наприклад, клік, введення тексту, перевірка стану тощо). Ось деякі з основних методів вибору елементів за допомогою CSS селекторів у Cypress:

cy.get()
Цей метод використовується для отримання елементів на сторінці.

Використання CSS селекторів:


cy.get('.my-class'); // Вибір за класом
cy.get('#myId'); // Вибір за ідентифікатором
cy.get('button'); // Вибір кнопки
cy.get('[data-testid=myTestId]'); // Вибір за атрибутом
cy.get('ul li'); // Вибір вкладеного елементу

cy.contains()
Цей метод шукає елемент з текстовим вмістом, що відповідає вказаному шаблону.

Використання CSS селекторів з текстом:


cy.contains('.my-class', 'Text'); // Елемент з вказаним текстом та класом
cy.contains('a', 'Link Text'); // Посилання з вказаним текстом
cy.contains('[data-testid=myTestId]', 'Content'); // Елемент за атрибутом та текстом

Комбінування CSS селекторів
За допомогою комбінації CSS селекторів ви можете використовувати більш складні вирази для вибору конкретних елементів.

Приклади комбінованого вибору:


cy.get('.parent-class .child-class'); // Вибір вкладеного елементу
cy.get('.parent-class > .child-class'); // Вибір прямого дочірнього елементу
cy.get('.my-class, #myId'); // Вибір за декількома селекторами
cy.get('ul li:nth-child(2)'); // Вибір другого елементу списку ul

Ці методи дозволяють ефективно вибирати елементи за допомогою CSS селекторів у Cypress, надаючи можливість шукати та взаємодіяти з елементами на сторінці для тестування вашого веб-додатку.

Фреймворк Cypress не надає вбудованої підтримки для використання XPath-селекторів напряму для вибору елементів на веб-сторінці. Однак, багато засобів вибору елементів, доступних у CSS, також можуть бути використані в Cypress. Враховуючи це, найбільш рекомендованим методом для вибору елементів в Cypress є використання CSS-селекторів, оскільки вони є основним інструментом для вибору елементів в цьому фреймворку.

Якщо ви хочете використовувати XPath-селектори, ви можете скористатися сторонніми бібліотеками для цього. Одним з прикладів є cypress-xpath, плагін для Cypress, який надає підтримку для використання XPath-селекторів у ваших тестах. Цей плагін дозволяє вам використовувати XPath для вибору елементів у вашому Cypress-коді. Однак слід зазначити, що цей плагін є deprecated, тобто більше не підтримується розробниками.

Щоб використати cypress-xpath, встановіть його у ваш проект Cypress, використовуючи npm:



npm install -D cypress-xpath

Після встановлення додайте наступний код у вашому cypress/support/e2e.js файлі для налаштування плагіну:



import 'cypress-xpath';

Документація: https://docs.cypress.io/app/core-concepts/writing-and-organizing-tests#Support-file

Тепер ви зможете використовувати функції, які надає cypress-xpath, для вибору елементів за допомогою XPath-селекторів у ваших тестах Cypress. Наприклад:



cy.xpath('//button[contains(text(),"Submit")]').click();

Однак, слід зауважити, що використання XPath може бути менш ефективним порівняно з CSS-селекторами у Cypress, тому рекомендується використовувати XPath лише у випадках, коли ви не можете досягти потрібного елемента за допомогою CSS-селекторів.